@startuml

' ===== ESTILO =====
skinparam dpi 220
skinparam shadowing false
skinparam roundcorner 15
skinparam linetype ortho

skinparam class {
  BackgroundColor #F7FAFF
  BorderColor #1D3B53
  FontColor #111827
}

skinparam nodesep 90
skinparam ranksep 130

hide stereotype
top to bottom direction

' ===== ENUMS =====
enum EstadoApunte {
  PENDIENTE
  APROBADO
  RECHAZADO
}

enum TipoDecision {
  APROBAR
  RECHAZAR
}

' ===== CLASES =====
class Usuario {
  +id: UUID
  +nombre: String
  +emailInstitucional: String
  +esAdmin(): Boolean
}

class Administrador {
  ' Especializaci贸n de Usuario
}

Usuario <|-- Administrador

class Apunte {
  +id: UUID
  +titulo: String
  +descripcion: String
  +fechaSubida: DateTime
  +estado: EstadoApunte
  --
  +calcularPromedio(): float
  +cambiarEstado(dm: DecisionModeracion): void
}

class Comentario {
  +id: UUID
  +texto: String
  +fecha: DateTime
  --
  +ocultar(): void
}

class Valoracion {
  +id: UUID
  +puntaje: int  ' [1..5]
  +fecha: DateTime
}

class DecisionModeracion {
  +id: UUID
  +decision: TipoDecision
  +motivo: String
  +fecha: DateTime
}

' ===== LAYOUT (misma estructura que ya te gust贸) =====
Usuario -[hidden]down- Comentario
Comentario -[hidden]down- Administrador

Usuario -[hidden]- Apunte
Apunte -[hidden]down- Valoracion

Apunte -[hidden]- DecisionModeracion
DecisionModeracion -[hidden]down- TipoDecision

EstadoApunte -[hidden]down- Apunte

' ===== RELACIONES =====

' Usuario crea apuntes (flecha hacia Apunte)
Usuario "1" -right-> "0..*" Apunte : crea

' Apunte contiene comentarios y valoraciones
Apunte "1" -left-> "0..*" Comentario : contiene
Apunte "1" -down-> "0..*" Valoracion : contiene

' Usuario con comentarios y valoraciones (flechas hacia Comentario/Valoracion)
Usuario "1" -down-> "0..*" Comentario : autor
Usuario "1" -down-> "0..*" Valoracion : emite

' Moderaci贸n
Administrador "1" -right-> "0..*" DecisionModeracion : aplica\n
DecisionModeracion "1" -up-> "1" Apunte : modifica estado
DecisionModeracion "0..*" -left-> "0..*" Comentario : registra decisi贸n

' Enums
Apunte --> EstadoApunte
DecisionModeracion --> TipoDecision

@enduml
